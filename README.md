# 行业词网络构建

基于统计词语关联度网络自动构建方法
=====
* 原理：
        
     构造一个以属性词为维度的属性空间，属性词的个数小于真实词语数目，但具备完全描述或近似完全描述所有事物的能力，类似于ＨｏｗＮｅｔ中的义原。每个词语拥有一个属性向量作为它的语义表示，这个向量每一维的权重为属性词与待表示词在语义上的关系的大小，两个词的相似度就等于它们的属性向量的相似度。

* 词语相关度原理：

     定义1：领域、领域数
        
        世间万物可以看做为具有层次关系的诸多领域 ，这些层次不同的领域构成一个树形结构，称为领域树 ，树的根节点囊括所有的子领域 ，而一个子领域还可 以向下 划分 ，得到若干个描述该 领域一部分内容的更下层子领域 。所有领域构成领域空间。

     定义2：词语领域特性
        
        词语是具备领域特性的，抛开词语的词性以及在句子中充当成分的信息不看，一部分词语或强或弱地与一个或多个或大或小的领域关联，这种与领域关联的能力称为词语的领域特性。 

     定义3：词语相关度（两个词语之间在代表领域上的相关程度）
        
        以“投篮”、“篮板”、“穿衣 ”三个词语为例，它们代表的领域也可称为“投篮”、“篮板”、“穿衣”，“投篮”和“篮板”为父子节点，距离很近，而“投篮”和“穿衣”、“篮板”和“穿衣”两对节点的公共祖先节点为“人类活动”，子节点距离公共祖先节点较远，因此第一对词语的相关度比后面两对的相关度高。
        词语相关度的概念相比于词语相似度更加精确、有针对性。

* 词语相关度网络原理：

    定义4：词语相关度公式
        
        假设词语Wx和Wy ，Fxy表示词语对在窗口内共现的频数,Fx和Fy表示每个词语单独出现的频数，那么词语Wx和Wy的相关度Cor为：
                                    Cor(Wx,Wy) = Fxy/(FxFy)**1/2 

    定义5：词语相关度网络
        
        以所有领域特性较强的词语为节点，如果两个节点相关度大于零，就在两个节点之间建立权值为二者相关度的无向边，所有节点和边一起构成一个复杂的无向加权网络，称为词语相关度网络。
        可以运用多种图与网络的理论对词语相关度网络进行分析，以获取更多的词语语义知识。 

* 词语相关度网络自动构建技术实现 

    总体步骤：
        1）	选择适当的词语作为网络的节点，设节点数目为 N,建立一个N*N的二元组数据库,用于保存每两个词语共现的频数。
        2）	将数据库的所有元素先置零，遍历语料库中的文档,对文档进行分词处理，当词语Wi和Wj在文本窗口中共同出现，就将二元组中i行j列以及j行i列位置的元素加 1由此统计节点词语共现频数，获得共现数据库。
        3）	根据共现数据库，根据词语相关度公式计算每两个词语间的相关度，获得相关度数据库（同样也是N*N的二元组）。

    节点词语选择：
        本着尽可能降低网络数据的空间复杂度同时乂尽量维持数据完整的原则，节点集不宜包含所有中文词落,应选择领域特性较强的一部分词语。经过观察发现，绝大多数名词、动词和缩略语领域特性很强,而形容词的领域特性也相对较强,此外单字词相比于多字词领域特性较弱。据此，实验拟从中科院ICTCLAS分词系统的词典中选取所有词性为名词、动词、缩略语、形容词的多字词（共65165个）作为网络节点。

    文本窗口选择：
        在实际的代码中,可以取空格符为段落间隔符，以回车或换行符为段落间隔符是不恰当的，因为有很多文本为了便于浏览或其他原因,在一个段落结束前就使用一些换行符以保持显示时每行的长度为某一固定大小，如果以换行符为段落间隔符,就会错误地划分出很多段。几乎所有的段落在开头都会有首行缩进，也就是增加空格符，因此以空格符作为段落间隔符是合理的。基于上面所说的情况，在文本分析前应把所有回车及换行符去掉，以免造成分词错误。

* 数据存储：

    图和网络的存储方法主要有两种：无压缩的矩阵数组或压缩性质的链表(包括邻接表和十字链表等)。假设网络的节点为N，如果网络用矩阵数组表示，这个数组为一个N*N的二元组，空间复杂度将达到O(N2)。
    稀疏数组可以采用压缩性质的链表存储来节约空间。 
    对于本实验,每行或列的元素仅使用普通的链表存储是不恰当的，这样就会失去随机存取的功能，对于本网络节点数目达到万级的情况，时间复杂度将不可接受。每行或列的数据存储可以釆用动态查找表,如平衡二叉树、红黑树等 等,这也是一种以链表为基础的压缩存储方法，同时随机存 取的效率不至于损失过大。
    实验拟采用这种方法：每行元素使用C++标准库的map容器（此容器内部实现方式为 红黑树）存储,这样既能够节约空间，又能够保持较高的存取效率。
      
